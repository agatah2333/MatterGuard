config:
  attribute: '0x0004'
  cluster: time-synchronization-cluster
  nodeId: '0x654231'
name: time-synchronization-cluster_attribute_0x0004_v1.2.0.0
tests:
- ActionTime: <current_time>
  Attribute_Change: Granularity will be set to NoTimeGranularity
  ExpectedResponse: SUCCESS
  Pre-requisites: Node is not currently synchronized with a UTC Time source.
  arguments:
    '{"Granularity"': 0}
  label: Test_Case_Minimum_Value
  option: WriteAttribute
- ActionTime: <current_time>
  Attribute_Change: Granularity will be set to MicrosecondsGranularity
  ExpectedResponse: SUCCESS
  Pre-requisites: Node is synchronized to an upstream source using a highly precise
    time-synchronization protocol such as PTP, or has built-in GNSS.
  arguments:
    '{"Granularity"': 4}
  label: Test_Case_Maximum_Value
  option: WriteAttribute
- ActionTime: <current_time>
  Attribute_Change: Granularity will be set to NoTimeGranularity
  ExpectedResponse: SUCCESS
  Pre-requisites: Node is not currently synchronized with a UTC Time source and its
    clock is based on the Last Known Good UTC Time only.
  arguments:
    '{"Granularity"': 0}
  label: Test_Case_Special_Response_-_NoTimeGranularity
  option: WriteAttribute
- ActionTime: <current_time>
  Attribute_Change: Granularity will be set to MinutesGranularity
  ExpectedResponse: SUCCESS
  Pre-requisites: Node was synchronized to an upstream source in the past, but sufficient
    clock drift has occurred such that the clock error is now > 5 seconds.
  arguments:
    '{"Granularity"': 1}
  label: Test_Case_Special_Response_-_MinutesGranularity
  option: WriteAttribute
- ActionTime: <current_time>
  Attribute_Change: Granularity will be set to SecondsGranularity
  ExpectedResponse: SUCCESS
  Pre-requisites: Node is synchronized to an upstream source using a low-resolution
    protocol. UTC Time is accurate to ± 5 seconds.
  arguments:
    '{"Granularity"': 2}
  label: Test_Case_Special_Response_-_SecondsGranularity
  option: WriteAttribute
- ActionTime: <current_time>
  Attribute_Change: Granularity will be set to MillisecondsGranularity
  ExpectedResponse: SUCCESS
  Pre-requisites: Node is synchronized to an upstream source using a high-resolution
    time-synchronization protocol such as NTP, or has built-in GNSS with some amount
    of jitter applying its GNSS timestamp. UTC Time is accurate to ± 50ms.
  arguments:
    '{"Granularity"': 3}
  label: Test_Case_Special_Response_-_MillisecondsGranularity
  option: WriteAttribute
- ActionTime: <current_time>
  Attribute_Change: Granularity will be set to MicrosecondsGranularity
  ExpectedResponse: SUCCESS
  Pre-requisites: 'Node is synchronized to an upstream source using a highly precise
    time-synchronization protocol such as PTP, or has built-in GNSS. UTC time is accurate
    to ± 10 μs.


    These test cases cover the extreme values of the constraints of the field and
    the values that could result in special responses as mentioned in the description
    of the effect【4:3†source】【4:6†source】【4:7†source】【4:8†source】【4:9†source】【4:10†source】【4:11†source】【4:12†source】【4:13†source】【4:14†source】【4:15†source】【4:16†source】【4:17†source】【4:18†source】【4:19†source】.'
  arguments:
    '{"Granularity"': 4}
  label: Test_Case_Special_Response_-_MicrosecondsGranularity
  option: WriteAttribute
